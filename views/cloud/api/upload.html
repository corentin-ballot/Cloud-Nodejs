{% set api_component_name = 'upload' %}
{% set api_component_description = 'Upload le fichier.' %}
{% set api_component_endpoint = '/api/cloud/upload' %}
{% set api_component_methods = ['POST'] %}
{% set api_component_params = {required : [{'name': 'file', 'type': 'file' },{'name': 'path', 'type': 'path' }],
optional : []} %}
{% set api_component_success_response = [{code: '200', content: '{
\ \ \ \ "status": "success",
\ \ \ \ "msg": "File successfully uploaded",
\ \ \ \ "detail": "The file <code>file.md</code> was successfully uploaded in <code>/api/doc</code>."
}'}] %}
{% set api_component_error_response = [{code: '403', content: '{
\ \ \ \ "status":"error",
\ \ \ \ "msg":"Access denied",
\ \ \ \ "detail":"You must login to perform this action."
}'},{code: '403', content: '{
\ \ \ \ "status":"error",
\ \ \ \ "msg":"Access denied",
\ \ \ \ "detail":"You don\'t have required rights to perform this action."
}'},{code: '500', content: '{
\ \ \ \ "status": "error",
\ \ \ \ "msg": "Fail to upload file",
\ \ \ \ "detail": "An error occured while uploading <code>file.md</code> in <code>/undefined/path</code>."
}'}] %}
{% set api_component_sample_call = 'let data = new FormData();
data.append("path", path);
data.append("file", file);

fetch("/api/cloud/upload", {
\ \ \ \ method: "POST",
\ \ \ \ body: data
})' %}
{% set api_component_notes = ['Form example :
<form ref="uploadForm" encType="multipart/form-data" class="" action="/api/cloud/upload" method="post">
    <input type="file" name="files" value="" multiple><br>
    <input type="text" name="path" value="/" multiple><br>
    <input type="submit" value="upload!">
</form>'] %}

{% extends "cloud/api/api_layout.html" %}