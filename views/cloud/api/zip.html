{% set api_component_name = 'zip' %}
{% set api_component_description = 'Compresse les fichiers et dossiers.' %}
{% set api_component_endpoint = '/api/cloud/zip' %}
{% set api_component_methods = ['POST'] %}
{% set api_component_params = {required : [{'name': 'files', 'type': 'array[path]' },{'name': 'path', 'type': 'path'
}], optional : []} %}
{% set api_component_success_response = [{code: '200', content: '{
\ \ \ \ "status": "success",
\ \ \ \ "msg": "Files successfully zipped",
\ \ \ \ "detail": "Files were successfully zipped in <code>/doc/archives</code>.",
\ \ \ \ "zip_path": "/doc/archives/819343202.zip"
}'}] %}
{% set api_component_error_response = [{code: '403', content: '{
\ \ \ \ "status":"error",
\ \ \ \ "msg":"Access denied",
\ \ \ \ "detail":"You must login to perform this action."
}'},{code: '403', content: '{
\ \ \ \ "status":"error",
\ \ \ \ "msg":"Access denied",
\ \ \ \ "detail":"You don\'t have required rights to perform this action."
}'}] %}
{% set api_component_sample_call = 'let data = new FormData();
data.append("path", path);
data.append("file", file);

fetch("/api/cloud/extractzip?file=/archive.zip", {method: "POST"})' %}
{% set api_component_notes = [
'Les fichiers sont compressés dans un dossier à l\'emplacement (path) passé en paramètre. Le timestamp est utilisé pour
nommer le dossier.'
] %}

{% extends "cloud/api/api_layout.html" %}